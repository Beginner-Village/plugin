
# ğŸš€ HiAgent Plugin Runtime

ä¸€ä¸ªé«˜æ€§èƒ½çš„AI Agentæ’ä»¶è¿è¡Œæ—¶å¹³å°ï¼Œæ”¯æŒæ’ä»¶åŠ¨æ€åŠ è½½ã€å¼‚æ­¥æ‰§è¡Œå’Œåˆ†å¸ƒå¼éƒ¨ç½²ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ”Œ **æ’ä»¶åŒ–æ¶æ„**: æ”¯æŒåŠ¨æ€å®‰è£…ã€å¸è½½å’Œç‰ˆæœ¬ç®¡ç†
- âš¡ **é«˜æ€§èƒ½æ‰§è¡Œ**: å¼‚æ­¥ä»»åŠ¡å¤„ç†å’Œæµå¼è¾“å‡º
- ğŸ”„ **Redisé˜Ÿåˆ—**: æ”¯æŒå¤§è§„æ¨¡å¹¶å‘æ’ä»¶æ‰§è¡Œ  
- ğŸ³ **Dockeréƒ¨ç½²**: å¼€ç®±å³ç”¨çš„å®¹å™¨åŒ–éƒ¨ç½²
- ğŸŒ **RESTful API**: å®Œæ•´çš„æ’ä»¶ç®¡ç†å’Œæ‰§è¡ŒAPI
- ğŸ“Š **å¥åº·ç›‘æ§**: å†…ç½®å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€ç›‘æ§
- ğŸ”’ **ä¼ä¸šçº§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Agent      â”‚    â”‚   Web Client    â”‚    â”‚   API Client    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      FastAPI Server        â”‚
                    â”‚   (Plugin Runtime API)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                 â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Package Manager   â”‚ â”‚   Runtime   â”‚ â”‚  Redis Queue   â”‚
    â”‚   (Install/Delete) â”‚ â”‚   Engine    â”‚ â”‚   (Async)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       Plugin Ecosystem     â”‚
                    â”‚  Bing â€¢ é£ä¹¦ â€¢ GitHub â€¢   â”‚
                    â”‚  Time â€¢ Math â€¢ Weather     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: ä¸€é”®å®‰è£… (æ¨è)

```bash
curl -fsSL https://raw.githubusercontent.com/Beginner-Village/plugin/main/deploy/install.sh | bash
```

### æ–¹å¼äºŒ: æ‰‹åŠ¨éƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/Beginner-Village/plugin.git
cd plugin
```

2. **å¯åŠ¨æœåŠ¡**
```bash
chmod +x deploy/deploy.sh
./deploy/deploy.sh
```

3. **éªŒè¯éƒ¨ç½²**
```bash
curl http://localhost:8000/ping
# è¿”å›: {"message":"pong"}
```

## ğŸ“ API ä½¿ç”¨

### å®‰è£…æ’ä»¶

```bash
curl -X POST "http://localhost:8000/v1/InstallPackage" \
  -H "Content-Type: application/json" \
  -d '{
    "uri": "file:///path/to/plugin.whl",
    "filename": "plugin.whl",
    "force": true
  }'
```

### è°ƒç”¨æ’ä»¶å·¥å…·

```bash
curl -X POST "http://localhost:8000/v1/RunPluginTool" \
  -H "Content-Type: application/json" \
  -d '{
    "pkg": "hiagent-plugin-time",
    "version": "0.2.0",
    "plugin": "æ—¶é—´å·¥å…·", 
    "tool": "current_time",
    "input": {
      "timezone": "Asia/Shanghai"
    }
  }'
```

å“åº”:
```json
{
  "data": "2025-08-14 18:43:59 CST",
  "error": null
}
```

## ğŸ³ Docker éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### ç¯å¢ƒå‡†å¤‡

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3.11 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -e ./hiagent-plugin-sdk
```

### å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨Redis
docker run -d --name redis -p 6379:6379 redis:7-alpine

# å¯åŠ¨APIæœåŠ¡
CONFIG=config.yaml python main.py

# å¯åŠ¨Worker (æ–°ç»ˆç«¯)
CONFIG=config.yaml python worker.py
```

## ğŸ”Œ æ’ä»¶ç”Ÿæ€

ç›®å‰æ”¯æŒçš„æ’ä»¶ç±»å‹:

- **å·¥å…·ç±»**: æ—¶é—´ã€æ•°å­¦ã€æ­£åˆ™è¡¨è¾¾å¼
- **æœç´¢ç±»**: Bingã€DuckDuckGoã€Wikipedia  
- **åŠå…¬ç±»**: é£ä¹¦ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡
- **å¼€å‘ç±»**: GitHubã€GitLabã€Jira

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### å¥åº·æ£€æŸ¥

- APIå¥åº·: `GET /ping`
- APIæ–‡æ¡£: `GET /docs`

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./deploy/deploy.sh status

# é‡å¯æœåŠ¡
./deploy/deploy.sh restart

# æŸ¥çœ‹æ—¥å¿—
./deploy/deploy.sh logs
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License è®¸å¯è¯ã€‚

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼

ğŸ“§ é—®é¢˜åé¦ˆ: [Issues](https://github.com/Beginner-Village/plugin/issues)
# plugin
